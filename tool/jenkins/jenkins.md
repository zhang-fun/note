[视频课程链接](https://www.bilibili.com/video/BV11J411674t)

[参考笔记链接](https://www.cnblogs.com/hujuntao/p/11984687.html)

# 1.自动化上线代码基本介绍

## 1.1软件开发生命周期

老板创意---产品经理---立项---开发团队---测试团队(黑白盒)---运维上线
产品经理---加需求---开发团队---测试团队---运维更新代码上线

## 1.2什么是环境

开发环境：开发自己用的电脑本地自己装的php python的开发工具等。
测试环境：多个人的代码合起来跑一遍，运行一次，测试mysql redis等。
预发布环境：直接连接线上数据库，专门的测试域名小范围内测试。
生产环境：线上环境 每个项目一套环境 (线下可以放一起配多域名 线上不行)。

## 1.3什么是持续集成(CI)

每天都进行一次代码合并，就是持续集成。
多个开发写的代码 集中起来管理 放到代码库里 (版本控制管理软件)代码库工具：svn git(多) 。（版本控制系统：类似于快照的增量备份的机制，也就是每一次版本更新，都会在原来的基础上保留变化的内容，生成一个新的版本，之前的版本也会被保留，以便快速回滚。）
每天都要做代码合并，防止冲突，在合并的时候会产生冲突，所以提交的时候有先后顺序，就是你先上传，然后我把你上传的拉过来和我的进行合并，排除冲突，然后我在上传到主分支。持续集成是一种软件开发实践，即团队开发成员经常集成他们的工作，通常每个成员至少集成一次，也就意味着每天可能会发生多次集成。每次集成都通过自动化的构建（包括编译、发布、自动化测试）来验证，从而尽快地发现集成错误。许多团队发现这个过程可以大大减少集成的问题，让团队能够更快的开发内聚的软件。

## 1.4什么是持续交付

开发首先进行单元测试---最后把所有代码放一起进行测试---代码质量检查。

## 1.5什么是持续部署

频繁的代码上线就是持续部署。

## 1.6没有持续集成

项目做模块集成的时候，发现很多接口都不通>浪费大量时间
需要手动去编译打包最新的代码>构建过程不透明
发布代码，上线，基本靠手工==>脚本乱飞

## 1.7持续集成最佳实践

维护一个单一的代码库
使构建自动化
执行测试是构建的一部分
集成日志及历史记录
使用统一的依赖包管理库
每天至少集成一次

## 1.8持续集成的好处

1. 解放了重复性劳动

   自动化部署工作可以解放了集成、测试、部署等重复性劳动，而且机器集成的频率明显可以比手工的高很多。

2. 更快地修复问题

   由于持续集成更早的获取变更，更早的进入测试，也就能更早的发现问题，解决问题的成本显著下降。

3. 更快地交付成果

   及早集成、及早测试减少了缺陷遗留到部署环节的机会。在某些情况下，更早地查找错误还会减少解决错误所需的工作量。

   如果集成服务器对代码进行构建过程中发现错误，可以及时发送邮件或者短信提供给开发人员进行修复。

   如果集成服务器在部署环节发现当前版本有问题不可用，集成服务器会将部署回退到上一个版本。这样服务器上始终都会有一个可用的版本。

4. 减少手工的错误

   人与机器的一个最大的区别是，在重复性动作上，人容易犯错，而机器犯错的几率几乎为零。所以，当我们搭建完成集成服务器后，以后的事就交给集成服务器来打理吧。

5. 减少了等待时间

   持续集成缩短了从开发、集成、测试、部署各个环节的时间，从而也就缩短了中间可以出现的等待时间。持续集成，意味着开发、集成、测试、部署也得以持续。

6. 更高的产品质量

   集成服务器往往提供 Code review、代码质量检测等功能。对代码不规范或者有错误的地方会进行标识，也可以设置邮件、短信等进行告警。而开发人员通过 Code review 也可以持续提高编程的能力。

## 1.9持续集成流程

`提交代码`-->`代码托管`-->`获取代码`-->`代码测试`-->`构建`-->`黑盒测试`-->`部署`-->`回退`

# 2.版本控制系统

## 2.1git

[git和gitHub教程参考此链接](https://github.com/zxc054/note/blob/master/tool/git/git.md)